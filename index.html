<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Verification Required</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,Arial,sans-serif;
  background:radial-gradient(circle at top,#0f172a,#020617);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
}

.box{
  background:#020617;
  padding:30px 24px;
  border-radius:18px;
  width:92%;
  max-width:380px;
  text-align:center;
  box-shadow:0 0 40px rgba(56,189,248,.22);
  border:1px solid rgba(56,189,248,.18);
}

h2{
  margin:0 0 12px;
  font-size:22px;
  font-weight:800;
}

.desc{
  font-size:14px;
  color:#cbd5f5;
  margin-bottom:18px;
}

.timer{
  font-size:36px;
  font-weight:900;
  color:#38bdf8;
  margin-bottom:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

button{
  width:100%;
  padding:15px;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:800;
  background:#334155;
  color:#94a3b8;
  cursor:not-allowed;
  transition:.25s;
}

button.active{
  background:linear-gradient(135deg,#38bdf8,#0ea5e9);
  color:#020617;
  cursor:pointer;
  box-shadow:0 0 25px rgba(56,189,248,.45);
}
</style>
</head>

<body>

<div class="box" id="stepBox">
  <h2>üîê Verification Required</h2>

  <div class="desc">
    Please stay on this page until the verification process finishes.
  </div>

  <div class="timer" id="count">10</div>

  <button id="btn">Continue Verification</button>
</div>

<script>
const AD_LINK =
  "https://www.effectivegatecpm.com/qc7ch8wiw4?key=bb839d04666cd63e6a3cb3dbeeaa2c88";

/* ---------- SVG ICON ---------- */
const CHECK_SVG = `
<svg width="34" height="34" viewBox="0 0 24 24" fill="none"
     xmlns="http://www.w3.org/2000/svg">
  <path d="M20 6L9 17L4 12"
        stroke="#38bdf8"
        stroke-width="3"
        stroke-linecap="round"
        stroke-linejoin="round"/>
</svg>`;

/* ---------- SHOW VERIFIED SCREEN ---------- */
function showVerifiedScreen(){
  document.getElementById("stepBox").innerHTML = `
    <h2 style="color:#22c55e;">Verification Completed</h2>

    <div class="timer">
      ${CHECK_SVG}
      READY
    </div>

    <div class="desc">
      Return to Telegram and tap <b>Verify</b> to continue.
    </div>
  `;
}

/* ---------- HANDLE BACK ---------- */
window.addEventListener("pageshow", function () {
  if (sessionStorage.getItem("verified_step") === "done") {
    showVerifiedScreen();
  }
});

/* ---------- COUNTDOWN ---------- */
let time = 10;
const count = document.getElementById("count");
const btn = document.getElementById("btn");

if (btn) {
  const timer = setInterval(() => {
    time--;
    count.innerText = time;

    if (time <= 0) {
      clearInterval(timer);
      count.innerHTML = CHECK_SVG;
      btn.classList.add("active");
      btn.disabled = false;
    }
  }, 1000);

  btn.onclick = () => {
    if (!btn.classList.contains("active")) return;
    sessionStorage.setItem("verified_step","done");
    window.location.href = AD_LINK;
  };
}
</script>

</body>
</html>